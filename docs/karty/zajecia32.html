<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZajÄ™cia 32 â€“ Integracja funkcji wzrokowych</title>
<style>
:root{--accent:#00E0FF; --gap:10px; --rad:14px}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#000;color:#fff}
.wrap{max-width:900px;margin:0 auto;padding:16px}
h1{margin:0 0 8px;color:var(--accent)}
.panel{border:2px solid var(--accent);border-radius:var(--rad);background:#0e0e0e;padding:12px;margin:10px 0}
.controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;align-items:end}
label{display:block;margin-bottom:6px}
select,button{padding:10px 12px;background:#000;color:#fff;border:2px solid var(--accent);border-radius:12px;font-weight:700}
button.primary{background:var(--accent);color:#000;border-color:var(--accent);cursor:pointer}
.small{font-size:.95rem;color:#bbb;margin:4px 0 0}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:10px}
.cell{border:2px dashed var(--accent);border-radius:12px;min-height:80px;display:flex;align-items:center;justify-content:center;font-size:1.8rem;cursor:pointer}
.correct{background:#062a2f}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px;margin-top:10px}
.stat{background:#0b0b0b;border:1px solid #333;border-radius:12px;padding:8px;color:#ddd}
</style>
</head>
<body>
<main class="wrap">
  <h1>ðŸ”— ZajÄ™cia 32 â€“ Integracja funkcji wzrokowych</h1>
  <section class="panel">
    <div class="controls">
      <div>
        <label for="ttsSel">Lektor</label>
        <select id="ttsSel">
          <option value="on" selected>WÅ‚Ä…czony</option>
          <option value="off">WyÅ‚Ä…czony</option>
        </select>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="primary" id="goal">ðŸ”Š Odczytaj cel</button>
        <button class="primary" id="start">START</button>
      </div>
    </div>
    <p class="small">ZnajdÅº i kliknij <b>pasujÄ…ce pary symboli</b>. Ä†wiczenie trwa do odkrycia wszystkich par.</p>
  </section>
  <section class="panel">
    <div id="grid" class="grid"></div>
    <div class="stats">
      <div class="stat"><b>Ruchy:</b> <span id="moves">0</span></div>
      <div class="stat"><b>Odkryte pary:</b> <span id="pairs">0</span></div>
    </div>
  </section>
</main>
<script>
const $=s=>document.querySelector(s); let voice=true;
$('#ttsSel').addEventListener('change',e=>{voice=e.target.value==='on'; if(!voice&&'speechSynthesis'in window) try{speechSynthesis.cancel();}catch(_){}});
function say(t){ if(!voice||!('speechSynthesis'in window))return; try{speechSynthesis.cancel();}catch(_){}
 const u=new SpeechSynthesisUtterance(t); u.lang='pl-PL'; speechSynthesis.speak(u); }
$('#goal').addEventListener('click',()=>say('ZnajdÅº i kliknij pasujÄ…ce pary symboli.'));
let symbols=['â—','â– ','â–²','â—†','â˜…','â¬¤','â¬›','â¬Ÿ']; let grid=[],first=null,moves=0,pairs=0;
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function build(){ const g=$('#grid'); g.innerHTML=''; grid=shuffle([...symbols,...symbols]); grid.forEach((sym,idx)=>{
  const d=document.createElement('div'); d.className='cell'; d.dataset.idx=idx; d.textContent='?';
  d.addEventListener('click',()=>clickCell(d,idx,sym)); g.appendChild(d); }); moves=0;pairs=0;$('#moves').textContent='0';$('#pairs').textContent='0'; }
function clickCell(d,idx,sym){ if(d.classList.contains('correct')||d.textContent!=='?') return;
  d.textContent=sym; if(first===null){ first={d,sym}; } else { moves++; $('#moves').textContent=String(moves);
    if(first.sym===sym){ d.classList.add('correct'); first.d.classList.add('correct'); pairs++; $('#pairs').textContent=String(pairs); say('dobrze'); if(pairs===symbols.length){ say('Koniec. Wszystkie pary znalezione.'); } first=null; }
    else { const f=first.d; setTimeout(()=>{ d.textContent='?'; f.textContent='?'; say('sprÃ³buj ponownie'); first=null; },600); } } }
$('#start').addEventListener('click',()=>{ build(); say('Zaczynamy. ZnajdÅº wszystkie pasujÄ…ce pary.'); });
</script>
</body>
</html>
