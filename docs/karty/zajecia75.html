<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ZajÄ™cia 75 â€“ Skanowanie liter</title>

<style>
:root{--accent:#00E0FF;--rad:14px}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:#000;
  color:#fff;
}
.wrap{max-width:1100px;margin:0 auto;padding:16px}
h1{margin:0 0 10px;color:var(--accent);font-weight:900}

.panel{
  border:2px solid var(--accent);
  border-radius:var(--rad);
  background:#0e0e0e;
  padding:14px;
  margin:12px 0;
}

.instruction{
  font-size:1.5rem;
  line-height:1.4;
  font-weight:800;
}

button{
  padding:12px 16px;
  background:#000;
  color:#fff;
  border:2px solid var(--accent);
  border-radius:12px;
  font-weight:900;
  cursor:pointer;
}

button.primary{background:var(--accent);color:#000}

.board{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:8px;
  margin-top:12px;
}

.cell{
  border:2px dashed var(--accent);
  border-radius:12px;
  aspect-ratio:1/1;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.6rem;
  font-weight:900;
  background:#000;
}

.good{outline:3px solid #0f8}
.bad{outline:3px solid #f44}

.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:10px;
  margin-top:14px;
}

.stat{
  background:#0b0b0b;
  border:1px solid #333;
  border-radius:12px;
  padding:10px;
}
</style>
</head>

<body>
<main class="wrap">

<h1>ðŸ”Ž ZajÄ™cia 75 â€“ Skanowanie liter</h1>
<button id="speak">ðŸ”ˆ Lektor (polecenie)</button>

<section class="panel">
  <button class="primary" id="start">START</button>
  <div class="instruction" id="instr"></div>
</section>

<section class="panel">
  <div class="board" id="board"></div>

  <div class="stats">
    <div class="stat"><b>PozostaÅ‚o:</b> <span id="left">0</span></div>
    <div class="stat"><b>BÅ‚Ä™dy:</b> <span id="err">0</span></div>
    <div class="stat"><b>PrÃ³ba:</b> <span id="round">1 / 6</span></div>
  </div>
</section>

</main>

<script>
const rounds = [
  { target:'A', pool:['A','R','Î›','Î”','H','M','N'] },
  { target:'O', pool:['O','Q','C','G','D','0'] },
  { target:'M', pool:['M','N','W','H','V','Î›'] },
  { target:'E', pool:['E','F','B','H','3'] },
  { target:'T', pool:['T','I','Î“','L','Y'] },
  { target:'K', pool:['K','X','R','H','Y'] }
];

let round = 0, left = 0, err = 0;
let voice = 'speechSynthesis' in window;

function say(t){
  if(!voice) return;
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(t);
  u.lang='pl-PL';
  speechSynthesis.speak(u);
}

function build(){
  if(round >= rounds.length){
    say('Koniec Ä‡wiczenia. Dobra robota.');
    document.getElementById('instr').textContent =
      'Ä†wiczenie zakoÅ„czone.';
    return;
  }

  const cfg = rounds[round];
  const board = document.getElementById('board');
  board.innerHTML='';
  left=0;
  err=0;

  document.getElementById('round').textContent = (round+1)+' / 6';
  document.getElementById('err').textContent = '0';

  document.getElementById('instr').innerHTML =
    `Kliknij wszystkie litery <b>${cfg.target}</b>.`;

  say(`ZnajdÅº wszystkie litery ${cfg.target}`);

  for(let i=0;i<24;i++){
    const s = cfg.pool[Math.floor(Math.random()*cfg.pool.length)];
    const b = document.createElement('button');
    b.className='cell';
    b.textContent=s;

    if(s===cfg.target) left++;

    b.onclick=()=>{
      if(b.disabled) return;
      if(b.textContent===cfg.target){
        b.classList.add('good');
        b.disabled=true;
        left--;
        say('dobrze');
        if(left<=0){
          round++;
          setTimeout(build,900);
        }
      }else{
        err++;
        b.classList.add('bad');
        say('Åºle');
        setTimeout(()=>b.classList.remove('bad'),300);
      }
      document.getElementById('left').textContent=left;
      document.getElementById('err').textContent=err;
    };

    board.appendChild(b);
  }
  document.getElementById('left').textContent=left;
}

document.getElementById('start').onclick=()=>{
  round=0;
  build();
};

document.getElementById('speak').onclick=()=>{
  say(document.getElementById('instr').textContent);
};
</script>

</body>
</html>
