<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ZajÄ™cia 69 â€“ Sylaby z obrazkiem</title>

<style>
:root{--accent:#00E0FF;--rad:18px}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Segoe UI,Arial;background:#000;color:#fff}
.wrap{max-width:1100px;margin:auto;padding:16px}
h1{color:var(--accent);font-weight:900}

.panel{
border:2px solid var(--accent);
border-radius:var(--rad);
background:#0e0e0e;
padding:16px;
margin:14px 0;
text-align:center
}

button,select{
padding:18px 26px;
border:3px dashed var(--accent);
border-radius:22px;
background:#000;
color:#fff;
font-weight:900;
cursor:pointer;
font-size:1.1rem
}

button.primary{
border-style:solid;
background:var(--accent);
color:#000
}

.row{
display:flex;
gap:22px;
flex-wrap:wrap;
justify-content:center;
align-items:center
}

.syllable{
font-size:4.2rem;
min-width:150px;
padding:28px 34px;
border:3px dashed var(--accent);
border-radius:26px;
background:#000;
font-weight:900
}

.good{outline:6px solid #0f8}
.bad{outline:6px solid #f44}

.picture{font-size:6rem;margin-bottom:12px}

.stats{
display:flex;
gap:30px;
justify-content:center;
margin-top:16px;
font-size:1.3rem
}

.note{color:#9ef;font-size:1.1rem}
</style>
</head>

<body>
<div class="wrap">

<h1>ğŸ—£ï¸ ZajÄ™cia 69 â€“ UÅ‚Ã³Å¼ sylaby (seria)</h1>
<button id="speak">ğŸ”ˆ Lektor â€“ instrukcja</button>

<div class="panel row">
<select id="level">
<option value="easy">ÅATWE (2 sylaby)</option>
<option value="hard">TRUDNE (3â€“4 sylaby)</option>
</select>
<button class="primary" id="start">START (10 zadaÅ„)</button>
</div>

<div class="panel">
<div class="picture" id="pic">â“</div>
<div class="row" id="board"></div>

<div class="stats">
<div>Zadanie: <span id="round">0</span>/10</div>
<div>BÅ‚Ä™dy: <span id="err">0</span></div>
</div>
</div>

</div>

<script>
let voice = 'speechSynthesis' in window;
function say(t){
 if(!voice) return;
 speechSynthesis.cancel();
 const u=new SpeechSynthesisUtterance(t);
 u.lang='pl-PL';
 u.rate=0.85;
 speechSynthesis.speak(u);
}

// ===== BAZY DANYCH =====

const easyWords = [
 {pic:'ğŸ‘©', syl:['MA','MA'], speak:'mama'},
 {pic:'ğŸ±', syl:['KO','TEK'], speak:'kotek'},
 {pic:'ğŸ§¸', syl:['MI','Åš'], speak:'miÅ›'},
 {pic:'ğŸš—', syl:['AU','TO'], speak:'auto'},
 {pic:'ğŸ¶', syl:['PI','ES'], speak:'pies'}
];

const hardWords = [
 {pic:'ğŸŒ‚', syl:['PA','RA','SOL'], speak:'parasol'},
 {pic:'ğŸš—', syl:['SA','MO','CHÃ“D'], speak:'samochÃ³d'},
 {pic:'â˜€ï¸', syl:['SÅO','Åƒ','CE'], speak:'sÅ‚oÅ„ce'},
 {pic:'ğŸ', syl:['JA','BÅ','KO'], speak:'jabÅ‚ko'},
 {pic:'ğŸ“š', syl:['KSIÄ„','Å»','KA'], speak:'ksiÄ…Å¼ka'}
];

// ===== LOGIKA =====

let base=[];
let pool=[];
let current=null;
let seq=[], shuffled=[];
let pos=0, err=0, round=0;
const MAX=10;

function shuffle(a){ return [...a].sort(()=>Math.random()-0.5); }

function refillPool(){
 pool = shuffle(base);
}

function startSeries(){
 err=0; round=0;
 document.getElementById('err').textContent=0;

 const level=document.getElementById('level').value;
 base = level==='easy' ? easyWords : hardWords;
 refillPool();

 nextRound();
}

function nextRound(){
 if(round>=MAX){
   say("Koniec Ä‡wiczenia. Brawo.");
   return;
 }

 if(pool.length===0){
   refillPool(); // ğŸ” odnawiamy pulÄ™
 }

 round++;
 document.getElementById('round').textContent=round;

 current = pool.shift();
 seq = current.syl;
 shuffled = shuffle(seq);
 pos=0;

 document.getElementById('pic').textContent=current.pic;
 const board=document.getElementById('board');
 board.innerHTML='';

 shuffled.forEach(s=>{
   const b=document.createElement('button');
   b.className='syllable';
   b.textContent=s;
   b.onclick=()=>pick(b,s);
   board.appendChild(b);
 });

 say("UÅ‚Ã³Å¼ wyraz do obrazka");
}

function pick(btn,syl){
 if(syl===seq[pos]){
   btn.classList.add('good');
   btn.disabled=true;
   pos++;
   if(pos===seq.length){
     say("Dobrze. To jest " + current.speak);
     setTimeout(nextRound,1200);
   }
 } else {
   err++;
   document.getElementById('err').textContent=err;
   btn.classList.add('bad');
   setTimeout(()=>btn.classList.remove('bad'),300);
   say("SprÃ³buj jeszcze raz");
 }
}

document.getElementById('start').onclick=startSeries;
document.getElementById('speak').onclick=()=>{
 say("Popatrz na obrazek i uÅ‚Ã³Å¼ wyraz z sylab");
};
</script>

</body>
</html>
